# Redis

## 持久化

两种持久化方法既可以同时使用，也可以单独使用。

* RDB (snapshotting)
* AOF (append only file)


### RDB

fork子进程来定时写入rdb文件。

* 优点：rdb文件体积小，恢复快。
* 缺点：服务器故障时会丢失最后一次备份之后的数据，Redis 保存rdb时， fork子进程的这个操作期间, Redis服务会停止响应(一般是毫秒级)，但如果数据量大且cpu时间紧张，则停止响应的时间可能比较长。

### AOF

直接写入文件

* 优点：最多丢失1秒数据
* 缺点：aof文件存在过大占满硬盘的